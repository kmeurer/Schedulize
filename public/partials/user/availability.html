<h1> Availability </h1>
<div id="availabilityTable" ng-controller="availabilityController" ng-mouseup='stopSelect()'>
	<!-- {{ timeSlots }} -->
	<form name="availabilityForm" role='form' ng-submit="sendAvailability(timeSlots)">
		<div class="container">
			<div class='form-horizontal'>
				<h3>Full Name</h3>
				<input name='name' class='form-control' type="text"
		        ng-model="availabilityData.name"
		        ng-minlength="5"
		        placeholder="Your Full Name goes here..." required
		        ng-class="{'has-error': availabilityForm.name.$invalid && availabilityForm.name.$dirty}"/>
		    	
		    	<div ng-if='availabilityForm.shiftCount.$error.required && availabilityForm.name.$dirty' class="control-label">
		         	<label>Please Enter Your Name</label>
		    	</div>
				
			<h3>How many shifts would you like to work?</h3>
				<input name='shiftCount' class='form-control' type="number"
		        ng-model="availabilityData.shiftsDesired"
		        max="5" min="1"
		        placeholder="Enter your desired number here" required
		        ng-class="{'has-error': availabilityForm.$invalid && availabilityForm.$dirty}"/>
		    	
		    	<div ng-if='availabilityForm.shiftCount.$error.required && availabilityForm.$dirty' class="has-error">
		          <label>Shift Number Required</label>
		     	</div>
			      <div ng-show='availabilityForm.shiftCount.$error.number && availabilityForm.$dirty' class="control-label">
			        <label>Please Enter a Number</label>
			      </div>
			      
			      <div ng-show='availabilityForm.shiftCount.$error.min && availabilityForm.$dirty' class="control-label">
			        <label>Please Enter a Number greater than 0</label>
			      </div>
			      
			      <div ng-show='availabilityForm.shiftCount.$error.max && availabilityForm.$dirty' class="control-label">
			        <label>Please Enter a Number less than 6</label>
		      </div>

		    </div>
		    <div class='form-group form-horizontal checkManage'>
		    	<label>
		    		<h3>Are you eligible to manage?(check the box if so)</h3>
		    		<input name="canManage" type="checkbox" class="checkbox" ng-model="availabilityData.canManage">
		    	</label>
		    </div> 
    	<p><strong>Instructions:</strong> Please fill out the following chart to indicate which times you would be available to work.  Click each time once to mark as available and twice to mark as unavailable.  You will not be assigned to shifts during times you have not marked as available. However, we do keep track of how many times you have indicated you would be available to work...</p>
		</div>
		<table id="timeSlots" class='table table-bordered'>
			<thead>
			  <tr>
			  	<th>Time</th>
			  	<th>Sunday</th>
			  	<th>Monday</th>
			  	<th>Tuesday</th>
			  	<th>Wednesday</th>
			  	<th>Thursday</th>
			  	<th>Friday</th>
			  	<th>Saturday</th>
			  </tr>
			</thead>
			<tbody>
				<tr ng-repeat='time in timeSlots'>
				 		<td>{{ time[0].start.format('h:mm') + ' - ' + time[0].end.format('h:mm A')}}
				 		<td ng-repeat='day in time' class="slot" ng-class="{'available': day.available, 'unavailable': day.unavailable}" ng-mousedown='setSelect(); toggleAvailability(day)' ng-mouseover='toggleAvailability(day)' ></td>
				</tr>
			<tbody>
		</table>
		<div class="sendWrapper">
			<input type="submit" class="btn btn-primary btn-block btn-lg" value="Complete availability!">
		</div>
	</form>

</div>

<!-- ["12:00 AM - 12:30 AM", "12:30 AM - 1:00 AM", "1:00 AM - 1:30 AM", "1:30 AM - 2:00 AM", "2:00 AM - 2:30 AM", "2:30 AM - 3:00 AM", "3:00 AM - 3:30 AM", "3:30 AM - 4:00 AM", "4:00 AM - 4:30 AM", "4:30 AM - 5:00 AM", "5:00 AM - 5:30 AM", "5:30 AM - 6:00 AM", "6:00 AM - 6:30 AM", "6:30 AM - 7:00 AM", "7:00 AM - 7:30 AM", "7:30 AM - 8:00 AM", "8:00 AM - 8:30 AM", "8:30 AM - 9:00 AM", "9:00 AM - 9:30 AM", "9:30 AM - 10:00 AM", "10:00 AM - 10:30 AM", "10:30 AM - 11:00 AM", "11:00 AM - 11:30 AM", "11:30 AM - 12:00 PM", "12:00 AM - 12:30 PM", "12:30 PM - 1:30 PM", "1:30 PM - 2:00 PM", "2:00 PM - 2:30 PM", "2:30 PM - 3:00 PM", "3:00 PM - 3:30 PM", "3:30 PM - 4:00 PM", "4:00 PM - 4:30 PM", "4:30 PM - 5:00 PM", "5:00 PM - 5:30 PM", "5:30 PM - 6:00 PM", "6:00 PM - 6:30 PM", "6:30 PM - 7:00 PM", "7:00 PM - 7:30 PM", "7:30 PM - 8:00 PM", "8:00 PM - 8:30 PM", "8:30 PM - 9:00 PM", "9:00 PM - 9:30 PM", "9:30 PM - 10:00 PM", "10:00 PM - 10:30 PM", "10:30 PM - 11:00 PM", "11:00 PM - 11:30 PM", "11:30 PM - 12:00 AM"